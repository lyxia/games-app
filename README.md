# å°å­¦ç”Ÿä¸“é¡¹ç»ƒä¹ æ¸¸æˆä¸­å¿ƒ

ä¸€ä¸ªä¸“ä¸ºå°å­¦ç”Ÿè®¾è®¡çš„äº’åŠ¨å­¦ä¹ æ¸¸æˆå¹³å°ï¼ŒåŒ…å«è‹±è¯­è¯­æ³•ã€æ•°å­¦å’Œç§‘å­¦ä¸“é¡¹è®­ç»ƒæ¸¸æˆã€‚

## ğŸ“š é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº React + Vite æ„å»ºçš„æ•™è‚²æ¸¸æˆå¹³å°ï¼Œæ—¨åœ¨é€šè¿‡æœ‰è¶£çš„äº’åŠ¨æ¸¸æˆå¸®åŠ©å°å­¦ç”Ÿå­¦ä¹ è‹±è¯­è¯­æ³•ã€æ•°å­¦å’Œç§‘å­¦çŸ¥è¯†ã€‚

**æ¶æ„ç‰¹ç‚¹**ï¼š
- é‡‡ç”¨ **iframe éš”ç¦»æ¶æ„**ï¼Œæ¯ä¸ªæ¸¸æˆç‹¬ç«‹æ„å»ºè¿è¡Œï¼Œé¿å…æ ·å¼æ±¡æŸ“å’Œåº“ç‰ˆæœ¬å†²çª
- æ”¯æŒ **PWA**ï¼ˆæ¸è¿›å¼ Web åº”ç”¨ï¼‰ï¼Œå¯ç¦»çº¿è®¿é—®
- ä¸»åº”ç”¨ä½œä¸ºæ¸¸æˆä¸­å¿ƒï¼Œé€šè¿‡ iframe åŠ è½½å„ä¸ªæ¸¸æˆ

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ® **ä¸°å¯Œçš„æ¸¸æˆå†…å®¹**ï¼šåŒ…å«å¤šä¸ªè‹±è¯­è¯­æ³•ã€æ•°å­¦å’Œç§‘å­¦ä¸“é¡¹è®­ç»ƒæ¸¸æˆ
- ğŸ”’ **æ¸¸æˆéš”ç¦»**ï¼šæ¯ä¸ªæ¸¸æˆç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¿é—®
- ğŸ“´ **ç¦»çº¿æ”¯æŒ**ï¼šPWA æŠ€æœ¯æ”¯æŒç¦»çº¿è®¿é—®
- ğŸš€ **å¿«é€ŸåŠ è½½**ï¼šä½¿ç”¨ Vite æ„å»ºå·¥å…·ï¼Œæä¾›æé€Ÿçš„å¼€å‘ä½“éªŒ
- ğŸ”¥ **çƒ­é‡è½½å¼€å‘**ï¼šæ”¯æŒå•ç‹¬å¯åŠ¨æ¸¸æˆå¼€å‘æœåŠ¡å™¨

## ğŸ¯ æ¸¸æˆåˆ—è¡¨

### è‹±è¯­æ¸¸æˆ (iframe ç±»å‹)

| æ¸¸æˆ | ç›®å½• | å¼€å‘ç«¯å£ | è¯´æ˜ |
|------|------|----------|------|
| è‹±è¯­è¯­æ³•é—¯å…³å¤§å†’é™© | `grammar-adventure-1` | 3001 | Be åŠ¨è¯å’Œç¬¬ä¸‰äººç§°å•æ•°è§„åˆ™ |
| å•è¯é­”æ³•å·¥å‚ | `word-magic-factory-2` | 3002 | ç¬¬ä¸‰äººç§°å•æ•°åŠ¨è¯è§„åˆ™ |
| è¯­æ³•å°ä¾¦æ¢ï¼šç¬¬ä¸‰è¯¾æ—¶ | `plural-verbs-3` | 3003 | ä¸»è¯­ -> ä¸‰å• -> åŠ¨è¯å˜å½¢ |
| é€»è¾‘ä¸å†™ä½œæ„å»ºè€… | `logic-&-writing-builder-4` | 3004 | çŸ­è¯­ã€ä¸‰å•åŠ¨è¯å’Œé€»è¾‘æ¨ç† |

### æ•°å­¦æ¸¸æˆ (iframe ç±»å‹)

| æ¸¸æˆ | ç›®å½• | å¼€å‘ç«¯å£ | è¯´æ˜ |
|------|------|----------|------|
| å¹³è¡Œä¸å‚ç›´ç‰¹è®­è¥ | `parallel-lines-1` | 3005 | æ¦‚å¿µè®°å¿†ã€å›¾å½¢è¾¨æ |
| å‚çº¿ä¸è·ç¦»ï¼šå‡ ä½•æ¢é™©å·¥å‚ | `parallel-lines-2` | 3006 | å‚çº¿å’Œç‚¹åˆ°ç›´çº¿è·ç¦» |

### ç§‘å­¦æ¸¸æˆ (HTML ç±»å‹)

| æ¸¸æˆ | æ•°æ®æ–‡ä»¶ | è¯´æ˜ |
|------|----------|------|
| ç¬¬4è¯¾ï¼šæˆ‘ä»¬æ˜¯æ€æ ·å¬åˆ°å£°éŸ³çš„ | `public/science/ear/ear.json` | äº¤äº’å¼è€³æœµè§£å‰–å›¾ã€å£°éŸ³ä¼ æ’­æ¨¡æ‹Ÿ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šReact 19.2.0
- **æ„å»ºå·¥å…·**ï¼šVite 6.2.0
- **è·¯ç”±**ï¼šReact Router DOM 6.28.0 (HashRouter)
- **åŠ¨ç”»**ï¼šFramer Motion 12.23.24
- **æ ·å¼**ï¼šTailwind CSS
- **è¯­è¨€**ï¼šTypeScript 5.8.2
- **å›¾æ ‡**ï¼šLucide React, Heroicons

## ğŸ“ é¡¹ç›®ç»“æ„

```
games-app/
â”œâ”€â”€ src/                          # ä¸»åº”ç”¨æºç 
â”‚   â”œâ”€â”€ App.tsx                   # ä¸»åº”ç”¨ï¼ˆè·¯ç”±é…ç½®ï¼‰
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx          # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ GameCard.tsx          # æ¸¸æˆå¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ GameRouter.tsx        # æ¸¸æˆè·¯ç”±åˆ†å‘
â”‚   â”‚   â”œâ”€â”€ IframeGameWrapper.tsx # iframe æ¸¸æˆåŒ…è£…å™¨
â”‚   â”‚   â”œâ”€â”€ HtmlGameWrapper.tsx   # HTML æ¸¸æˆåŒ…è£…å™¨
â”‚   â”‚   â””â”€â”€ LivePreview.tsx       # JSON å†…å®¹æ¸²æŸ“å™¨
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ gameScanner.ts        # æ¸¸æˆé…ç½®
â”œâ”€â”€ english/                      # è‹±è¯­æ¸¸æˆï¼ˆç‹¬ç«‹é¡¹ç›®ï¼‰
â”‚   â”œâ”€â”€ grammar-adventure-1/
â”‚   â”œâ”€â”€ word-magic-factory-2/
â”‚   â”œâ”€â”€ plural-verbs-3/
â”‚   â””â”€â”€ logic-&-writing-builder-4/
â”œâ”€â”€ math/                         # æ•°å­¦æ¸¸æˆï¼ˆç‹¬ç«‹é¡¹ç›®ï¼‰
â”‚   â”œâ”€â”€ parallel-lines-1/
â”‚   â””â”€â”€ parallel-lines-2/
â”œâ”€â”€ public/                       # é™æ€èµ„æºï¼ˆè‡ªåŠ¨å¤åˆ¶åˆ° distï¼‰
â”‚   â”œâ”€â”€ science/ear/ear.json      # ç§‘å­¦æ¸¸æˆæ•°æ®
â”‚   â”œâ”€â”€ service-worker.js         # PWA Service Worker
â”‚   â””â”€â”€ manifest.json             # PWA æ¸…å•
â”œâ”€â”€ scripts/                      # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ dev-game.cjs              # æ¸¸æˆå¼€å‘æœåŠ¡å™¨é€‰æ‹©å™¨
â”‚   â””â”€â”€ build-games.cjs           # æ¸¸æˆæ‰¹é‡æ„å»ºè„šæœ¬
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ deploy.yml                # GitHub Actions éƒ¨ç½²
â”œâ”€â”€ vite.config.ts                # ä¸»åº”ç”¨ Vite é…ç½®
â””â”€â”€ package.json
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 9.0.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

**å¯åŠ¨ä¸»åº”ç”¨**ï¼ˆç«¯å£ 3000ï¼‰ï¼š
```bash
npm run dev
```

**å¯åŠ¨æ¸¸æˆå¼€å‘æœåŠ¡å™¨**ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰ï¼š
```bash
npm run dev:game
```
è¿è¡Œåä¼šæ˜¾ç¤ºæ¸¸æˆåˆ—è¡¨ï¼Œé€‰æ‹©è¦å¼€å‘çš„æ¸¸æˆå³å¯ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ­¤å‘½ä»¤ä¼šï¼š
1. æ„å»ºä¸»åº”ç”¨ â†’ `dist/`
2. æ„å»ºæ‰€æœ‰æ¸¸æˆ â†’ `dist/games/`
3. å¤åˆ¶ public ç›®å½•å†…å®¹ â†’ `dist/`

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## ğŸ“¦ éƒ¨ç½²

### GitHub Pages è‡ªåŠ¨éƒ¨ç½²

é¡¹ç›®å·²é…ç½® GitHub Actions è‡ªåŠ¨éƒ¨ç½²ï¼š

1. æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯
2. GitHub Actions è‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²
3. è®¿é—®åœ°å€ï¼š`https://ä½ çš„ç”¨æˆ·å.github.io/games-app/`

### PWA æ›´æ–°

ä¿®æ”¹ `public/service-worker.js` ä¸­çš„ `CACHE_VERSION` ç‰ˆæœ¬å·ï¼Œéƒ¨ç½²åç”¨æˆ·åˆ·æ–°é¡µé¢å³å¯è·å–æœ€æ–°å†…å®¹ã€‚

## ğŸ”§ æ·»åŠ æ–°æ¸¸æˆ

### iframe ç±»å‹æ¸¸æˆï¼ˆç‹¬ç«‹æ„å»ºï¼‰

1. åœ¨ `english/`ã€`math/` ç›®å½•ä¸‹åˆ›å»ºæ¸¸æˆé¡¹ç›®
2. é…ç½®æ¸¸æˆçš„ `vite.config.ts`ï¼š
   ```ts
   export default defineConfig(({ mode }) => ({
     base: mode === 'production' ? '/games-app/games/åˆ†ç±»/æ¸¸æˆå/' : '/',
     server: { port: 300X },
     build: {
       outDir: '../../dist/games/åˆ†ç±»/æ¸¸æˆå',
       emptyOutDir: true,
     },
   }));
   ```
3. åœ¨ `src/utils/gameScanner.ts` æ·»åŠ æ¸¸æˆé…ç½®
4. åœ¨ `scripts/dev-game.cjs` æ·»åŠ ç«¯å£æ˜ å°„

### HTML ç±»å‹æ¸¸æˆï¼ˆJSON åŠ è½½ï¼‰

1. å°†æ¸¸æˆæ•°æ® JSON æ”¾å…¥ `public/` ç›®å½•
2. åœ¨ `src/utils/gameScanner.ts` æ·»åŠ é…ç½®ï¼š
   ```ts
   {
     type: 'html',
     dataPath: '/science/xxx/xxx.json'
   }
   ```

## ğŸ“ å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- æ¯ä¸ªæ¸¸æˆä¿æŒç‹¬ç«‹ï¼Œé¿å…è·¨æ¸¸æˆä¾èµ–
- æ¸¸æˆå…¥å£æ–‡ä»¶éœ€è¦åŒ…å« `createRoot` æ¸²æŸ“ä»£ç 

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºç§æœ‰é¡¹ç›®ã€‚

---

**æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä¸“ä¸ºå°å­¦ç”Ÿè®¾è®¡ï¼Œæ‰€æœ‰æ¸¸æˆå†…å®¹å‡é’ˆå¯¹å››å¹´çº§å­¦ç”Ÿæ°´å¹³å®šåˆ¶ã€‚
